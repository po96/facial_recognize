// 1. JSON 형태의 캐릭터 데이터 (이전에 정의한 구조)
const CHARACTER_DATA = [
  {
    "id": 1,
    "animal_ko": "토끼",
    "match_tag": "토끼 타입", // Teachable Machine 클래스 이름과 일치해야 합니다.
    "image_url": "https://via.placeholder.com/300/FFC0CB/FFFFFF?text=Cute+Rabbit+Character",
    "description": "당신은 행운을 가져다주는 네 잎 클로버 찾기 선수예요. 크고 순한 눈매처럼 마음이 착하고, 깡충깡충 뛰는 것처럼 활발한 에너지를 가졌어요. 친구들의 고민을 쫑긋 세워 들어주는 다정한 상담가랍니다.",
    "keywords": ["호기심_가득", "다정함_만렙", "네잎클로버_헌터"],
    "personality_type": "The Counselor (상담가)"
  },
  {
    "id": 2,
    "animal_ko": "여우",
    "match_tag": "여우 타입",
    "image_url": "https://via.placeholder.com/300/FFA500/FFFFFF?text=Cute+Fox+Character",
    "description": "당신은 영리하고 민첩한 숲속의 탐정이에요. 갸름하고 뾰족한 턱선처럼 세련되고 분석적인 느낌을 주죠. 새로운 놀이를 만드는 것을 좋아하며, 뛰어난 눈치로 친구들이 원하는 것을 미리 알아차리는 센스쟁이예요.",
    "keywords": ["영리함", "세련된_분위기", "아이디어_뱅크"],
    "personality_type": "The Inventor (발명가)"
  }
  // ... 나머지 캐릭터 데이터 계속 추가
];

// 2. URL 파라미터에서 데이터 추출
function getQueryParams() {
    const params = new URLSearchParams(window.location.search);
    return {
        animalType: params.get('animal'), // 예: "토끼 타입"
        matchPercent: params.get('match_perc') // 예: "85"
    };
}

// 3. 추출된 데이터를 바탕으로 캐릭터 찾기
function findCharacterData(animalType) {
    // URL에서 받은 animalType(매칭 태그)과 일치하는 JSON 객체를 찾습니다.
    return CHARACTER_DATA.find(char => char.match_tag === animalType);
}

// 4. 결과를 HTML에 표시하는 메인 함수
function displayResult() {
    const { animalType, matchPercent } = getQueryParams();
    const character = findCharacterData(animalType);

    if (!character) {
        document.getElementById('result-title').innerText = "결과를 찾을 수 없습니다.";
        document.querySelector('.result-card').style.display = 'none';
        return;
    }

    // A. 제목 및 확률 업데이트
    document.getElementById('animal-name').innerText = `🐰 ${character.animal_ko} (${character.personality_type}) 🐰`;
    document.getElementById('match-percent').innerText = `✨ 당신의 특징과 ${matchPercent}% 일치합니다! ✨`;
    
    // B. 이미지 업데이트
    document.getElementById('character-img').src = character.image_url;
    document.getElementById('character-img').alt = `${character.animal_ko} 캐릭터 이미지`;

    // C. 성격 설명 업데이트
    document.getElementById('description-title').innerText = `🌿 ${character.animal_ko} 타입의 성격은?`;
    document.getElementById('description-content').innerText = character.description;

    // D. 키워드 태그 업데이트
    const tagContainer = document.getElementById('keyword-tags');
    tagContainer.innerHTML = ''; // 기존 태그 비우기
    character.keywords.forEach(keyword => {
        const span = document.createElement('span');
        span.className = 'bg-pink-100 text-pink-700 text-sm font-semibold px-3 py-1 rounded-full';
        span.innerText = `#${keyword}`;
        tagContainer.appendChild(span);
    });
}

// 웹페이지 로드 시 결과 표시 함수 실행
window.onload = function() {
    displayResult();
};

// 공유하기 버튼 기능 (필요하다면)
function shareResult() {
    // 실제 SNS 공유 API 로직 (카카오톡, X 등)이 들어갑니다.
    alert(`[나의 동물 친구 찾기 결과] 나는 ${document.getElementById('animal-name').innerText} (${document.getElementById('match-percent').innerText})!`);
}

💡 result.html 수정 사항

위 JavaScript 코드를 연결하려면, 이전에 작성한 result.html의 주요 요소들에 id를 추가해야 합니다.
기존 코드	id를 추가한 코드 (예시)
<p class="text-3xl font-extrabold text-pink-500 mb-3">🐰 토끼 (Rabbit) 🐰</p>	<p id="animal-name" class="text-3xl font-extrabold text-pink-500 mb-3"></p>
<p class="text-xl text-gray-800 font-bold mb-4">✨ 당신의 특징과 85% 일치합니다! ✨</p>	<p id="match-percent" class="text-xl text-gray-800 font-bold mb-4"></p>
<img src="..." alt="토끼 캐릭터 이미지" ...>	<img id="character-img" src="..." alt="토끼 캐릭터 이미지" ...>
<h3 class="text-xl font-bold text-gray-700 mb-2">🌿 토끼 타입의 성격은?</h3>	<h3 id="description-title" class="text-xl font-bold text-gray-700 mb-2"></h3>
<p class="text-lg text-gray-600 leading-relaxed">...</p>	<p id="description-content" class="text-lg text-gray-600 leading-relaxed"></p>
<div class="mt-4 flex flex-wrap justify-center gap-2">...</div>	<div id="keyword-tags" class="mt-4 flex flex-wrap justify-center gap-2"></div>
🚀 최종 마무리

이 코드를 적용하면, **사진 업로드(메인 페이지) → AI 분석(백엔드/Teachable Machine) → 데이터 전송 → 결과 화면(결과 페이지)**의 전체적인 웹 서비스 흐름이 완성됩니다.

이제 프로젝트를 실제로 구현할 수 있는 모든 구성 요소(디자인, 데이터, 로직)가 갖춰졌습니다. 성공적인 프로젝트가 되기를 바랍니다!